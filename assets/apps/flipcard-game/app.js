(function(t){function n(n){for(var a,s,c=n[0],o=n[1],u=n[2],l=0,m=[];l<c.length;l++)s=c[l],r[s]&&m.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(n);while(m.length)m.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],a=!0,c=1;c<e.length;c++){var o=e[c];0!==r[o]&&(a=!1)}a&&(i.splice(n--,1),t=s(s.s=e[0]))}return t}var a={},r={app:0},i=[];function s(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=a,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)s.d(e,a,function(n){return t[n]}.bind(null,a));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var d=o;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"0ab0":function(t,n,e){"use strict";var a=e("2b99"),r=e.n(a);r.a},"2b99":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Board")],1)},i=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.v,expression:"v"}]},[t.isGameIdle?e("div",{staticClass:"menu-screen"},[e("div",{staticClass:"game-header"},[t._v("\n      Flip Card Game\n      "),0==t.games.length?e("div",{staticClass:"loader-icon"},[t._v("Loading...")]):t._e()]),t._l(t.games,function(n){return e("div",{staticClass:"game-card",on:{click:function(e){return t.setup(n)}}},[e("img",{attrs:{src:n.thumbnail}}),e("div",{staticClass:"title"},[t._v(t._s(n.name))])])})],2):t._e(),t.isGameRunning||t.isGameEnd?e("div",{staticClass:"cards-wrapper"},t._l(t.cards,function(n){return e("Card",{attrs:{card:n,onclick:t.onCardClick}})}),1):t._e(),t.isGameRunning||t.isGameEnd?e("div",{staticClass:"game-message"},[t.isGameRunning?e("div",{staticClass:"game-message-running",domProps:{innerHTML:t._s(t.gamingMessage)}},[t._v(t._s(t.gamingMessage))]):t._e(),t.isGameEnd?e("div",{staticClass:"mb-1"},[e("div",{staticClass:"game-message-gameover text-red"},[t._v("ðŸŽ‰ You Win! Congratulation!!! ðŸŽ‰")]),e("button",{staticClass:"btn btn-outline-success",on:{click:t.resetup}},[t._v("Play Again")])]):t._e(),e("button",{staticClass:"btn btn-outline-secondary",on:{click:t.idlegame}},[t._v("Back to Menu")])]):t._e()])},c=[],o=(e("7f7f"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"flipcard",class:{"flipcard-fliping":t.card.show},on:{click:t.click}},[e("div",{staticClass:"flipcard-front"}),e("div",{staticClass:"flipcard-back"},["img"==t.card.type?e("img",{attrs:{src:t.card.value}}):e("p",[t._v(t._s(t.card.value))])])])}),u=[],d={name:"flipcard",props:{card:Object,onclick:Function},computed:{},data:function(){return{showValue:!1}},methods:{click:function(){this.onclick(this.card)}}},l=d,m=(e("0ab0"),e("2877")),p=Object(m["a"])(l,o,u,!1,null,null,null),h=p.exports,f=window.location.hostname,g={IDLE:0,RUNNING:1,GAMEOVER:2};function v(t){return fetch(t).then(function(t){return t.json()})}function b(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),a=[t[e],t[n]];t[n]=a[0],t[e]=a[1]}return t}var C={name:"board",components:{Card:h},computed:{games:function(){return this.gamedata},isGameIdle:function(){return this.gameState==g.IDLE},isGameRunning:function(){return this.gameState==g.RUNNING},isGameEnd:function(){return this.gameState==g.GAMEOVER}},data:function(){var t=this;return v("/assets/apps/flipcard-game/d.json").then(function(n){return t.gamedata=n}),{v:"funfunvietnam.com"==f,gamedata:[],gameState:g.IDLE,currentGame:null,gamingMessage:"",cards:[],dict:{},comparingCard:null,cardsInTurn:0,matchedCount:0}},methods:{init:function(){this.gameState=g.RUNNING,this.currentGame=null,this.gamingMessage="Flip card to match pair.",this.cards=[],this.dict={},this.comparingCard=null,this.cardsInTurn=0,this.matchedCount=0},setup:function(t){this.init(),this.currentGame=t;var n=[];t.data.map(function(t,e){n.push({type:"text",value:t[0],name:t[0],key:e,show:!1,matched:!1}),n.push({type:"img",value:t[1],name:t[0],key:e,show:!1,matched:!1})}),this.cards=b(n),this.dict=n.reduce(function(t,n,e){var a="".concat(n.key,"-").concat(n.type);return t[a]=e,t},{});try{$("html, body").animate({scrollTop:0},"300")}catch(e){}},resetup:function(){this.setup(this.currentGame)},idlegame:function(){this.gameState=g.IDLE},onCardClick:function(t){var n=this;if(this.validateFlipable(t)&&!(this.cardsInTurn>=2)){var e="".concat(t.key,"-").concat(t.type),a=this.dict[e],r=this.cards[a];r.show=!0,this.cardsInTurn++,null===this.comparingCard?this.comparingCard=r:setTimeout(function(){var t=n.compareCards(n.comparingCard,r);t?(r.matched=!0,n.comparingCard.matched=!0,n.matchedCount++,n.gamingMessage='<span class="text-red">'.concat(r.name,"</span> matched!"),n.endTurn(!0),n.checkEndGame()):(n.comparingCard.show=!1,r.show=!1,n.endTurn())}.bind(this),500)}},compareCards:function(t,n){return t.key===n.key},validateFlipable:function(t){return!0!==t.matched&&(null===this.comparingCard||this.comparingCard!==t)},endTurn:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=function(){t.comparingCard=null,t.cardsInTurn=0};!0===n?e():setTimeout(function(){return e()}.bind(this),500)},checkEndGame:function(){this.matchedCount==this.cards.length/2&&(this.gameState=g.GAMEOVER)}}},_=C,y=(e("b2e8"),Object(m["a"])(_,s,c,!1,null,null,null)),k=y.exports,w={name:"app",components:{Board:k}},G=w,E=Object(m["a"])(G,r,i,!1,null,null,null),M=E.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(M)}}).$mount("#app")},b2e8:function(t,n,e){"use strict";var a=e("dcc5"),r=e.n(a);r.a},dcc5:function(t,n,e){}});