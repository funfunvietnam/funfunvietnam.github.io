(function(t){function a(a){for(var n,r,c=a[0],o=a[1],l=a[2],u=0,d=[];u<c.length;u++)r=c[u],s[r]&&d.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);m&&m(a);while(d.length)d.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,c=1;c<e.length;c++){var o=e[c];0!==s[o]&&(n=!1)}n&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},s={app:0},i=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var m=o;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0ab0":function(t,a,e){"use strict";var n=e("2b99"),s=e.n(n);s.a},"0e8d":function(t,a,e){},"1dc5":function(t,a,e){},2044:function(t,a,e){},"2b99":function(t,a,e){},4366:function(t,a,e){},4537:function(t,a,e){"use strict";var n=e("1dc5"),s=e.n(n);s.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.v,expression:"v"}],attrs:{id:"app"}},[e("Navigation",{attrs:{navHistory:t.navHistory,navToHome:t.onNavToHome,navBack:t.onNavBack}}),t.onloaded?e("div",["home"==t.currPage.type?e("Home",{attrs:{newGames:t.homeData.newGames,categories:t.homeData.categories,pageURL:t.pageURL}}):t._e(),"category"==t.currPage.type?e("Category",{ref:"categoryComponent",attrs:{gamedata:t.gamedata,onNavTo:t.onNavTo}}):t._e(),"game"==t.currPage.type?e("Game",{attrs:{game:t.choseGame,nextAction:t.onNavToHome,nextActionTitle:"Show All Game"}}):t._e()],1):e("div",{staticClass:"text-center"},[t._v("Loading...")])],1)},i=[],r=(e("28a5"),e("3b2b"),e("a481"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"game-nav"},[0==t.navHistory.length?e("div",{staticClass:"btn",on:{click:this.navToHome}},[t._v("🏠")]):e("div",{staticClass:"btn",on:{click:this.navBack}},[t._v("⬅️")]),e("div",{staticClass:"btn",attrs:{disabled:""}},[t._v("Flip Card Game")]),e("div",{staticClass:"btn lang"},[t._v(" ")])])}),c=[],o={name:"Navigation",props:{navHistory:Array,navToHome:Function,navBack:Function}},l=o,m=(e("9028"),e("2877")),u=Object(m["a"])(l,r,c,!1,null,null,null),d=u.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[null!==t.selectedGameIdx?e("Game",{ref:"gameComponent",attrs:{game:t.selectedGame,nextAction:t.nextGame,nextActionTitle:"Next Game"}}):e("div",{staticClass:"game-card-container"},t._l(t.gamedata,function(a,n){return e("div",{staticClass:"game-card",on:{click:function(a){return t.playGame(n)}}},[e("img",{staticClass:"card-img-top",attrs:{src:a.thumbnail,alt:a.name}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v(t._s(a.name))])])])}),0)],1)},g=[],h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.isGameIdle?e("div",{staticClass:"game-entrance text-center"},[e("div",[e("img",{staticClass:"game-thumbnail mt-2",attrs:{src:t.game.thumbnail}})]),e("div",{staticClass:"btn btn-outline-success btn-lg game-btn-play my-3",on:{click:t.playGame}},[t._v("Play")])]):t._e(),t.isGameRunning||t.isGameEnd?e("div",{staticClass:"cards-wrapper"},t._l(t.cards,function(a){return e("Card",{attrs:{card:a,onclick:t.onCardClick}})}),1):t._e(),t.isGameRunning||t.isGameEnd?e("div",{staticClass:"game-message"},[t.isGameRunning?e("div",{staticClass:"game-message-running",domProps:{innerHTML:t._s(t.gamingMessage)}},[t._v(t._s(t.gamingMessage))]):t._e(),t.isGameEnd?e("div",{staticClass:"mb-1"},[e("div",{staticClass:"game-message-gameover text-red"},[t._v("🎉 You Win! Congratulation!!! 🎉")]),t.gameplayTime>0?e("div",{staticClass:"game-message-gameover"},[t._v("Time: "+t._s(t.gameplayTime)+" seconds")]):t._e(),e("button",{staticClass:"btn btn-outline-success mr-2",on:{click:t.resetup}},[t._v("Play Again")])]):t._e()]):t._e(),e("div",{staticClass:"section-voca text-center"},[e("button",{staticClass:"btn btn-outline-secondary mr-2",on:{click:t.toggleVoca}},[t.showVoca?e("span",[t._v("Hide Vocabulary")]):e("span",[t._v("Show Vocabulary")])]),e("button",{staticClass:"btn btn-outline-secondary",on:{click:t.nextAction}},[t._v(t._s(t.nextActionTitle))]),t.showVoca?e("div",[e("table",{staticClass:"table-striped table-sm voca-table"},[t._m(0),e("tbody",[t._l(this.vocas,function(a,n){return e("tr",[e("td",[t._v(t._s(a.vn))]),e("td",[t._v(t._s(a.en))]),e("td",[t._v(t._s(a.cn))]),e("td",[e("CardImg",{attrs:{imgUrl:a.img.src,pos:a.img.pos}})],1)])}),t.game.title?e("tr",[e("td",[t._v(t._s(t.game.title[0]))]),e("td",[t._v(t._s(t.game.title[1]))]),e("td",[t._v(t._s(t.game.title[2]))])]):t._e()],2)])]):t._e()])])},v=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("VN")]),e("th",[t._v("EN")]),e("th",[t._v("CN")]),e("th")])])}],f=(e("7f7f"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flipcard",class:{"flipcard-fliping":t.card.show},on:{click:t.click}},[e("div",{staticClass:"flipcard-front",class:{nobg:t.card.show}}),e("div",{staticClass:"flipcard-back"},["img"==t.card.type?e("CardImg",{attrs:{imgUrl:t.card.value,pos:t.card.pos}}):e("p",{class:{textSmaller:t.card.value.length>=20}},[t._v(t._s(t.card.value))])],1)])}),b=[],C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-container",class:t.imgPos,style:{"background-image":"url('"+t.imgUrl+"')"}})},y=[],_=(e("c5f6"),{name:"CardImg",props:{imgUrl:String,pos:Number},computed:{imgPos:function(){return"cd-pos-".concat(this.pos)}}}),G=_,w=(e("4537"),Object(m["a"])(G,C,y,!1,null,null,null)),x=w.exports,I={name:"flipcard",components:{CardImg:x},props:{card:Object,onclick:Function},methods:{click:function(){this.onclick(this.card)}}},T=I,k=(e("0ab0"),Object(m["a"])(T,f,b,!1,null,null,null)),N=k.exports,E={IDLE:0,RUNNING:1,GAMEOVER:2};function j(t){for(var a=t.length-1;a>0;a--){var e=Math.floor(Math.random()*(a+1)),n=[t[e],t[a]];t[a]=n[0],t[e]=n[1]}return t}function O(){return Date.now()/1e3|0}var R={name:"Game",components:{Card:N,CardImg:x},props:{game:Object,nextAction:Function,nextActionTitle:String},computed:{games:function(){return this.gamedata},isGameIdle:function(){return this.gameState==E.IDLE},isGameRunning:function(){return this.gameState==E.RUNNING},isGameEnd:function(){return this.gameState==E.GAMEOVER},vocas:function(){var t=this,a=[];return this.game.data.map(function(e,n){a.push({vn:e[0],en:e[1],cn:e[2],img:{src:t.game.items,pos:n}})}),a}},created:function(){this.setup(this.game)},data:function(){return{gamedata:[],gameState:E.IDLE,gamingMessage:"",cards:[],dict:{},comparingCard:null,cardsInTurn:0,matchedCount:0,timestamp:0,gameplayTime:0,showVoca:!1}},methods:{init:function(){this.gameState=E.IDLE,this.gamingMessage="Flip card to match pair.",this.cards=[],this.dict={},this.comparingCard=null,this.cardsInTurn=0,this.matchedCount=0,this.timestamp=O(),this.gameplayTime=0,this.showVoca=!0},setup:function(t){this.init();var a=[];t.data.map(function(e,n){a.push({type:"text",value:e[0],pos:n,name:e[0],key:n,show:!1,matched:!1}),a.push({type:"img",value:t.items,pos:n,name:e[0],key:n,show:!1,matched:!1})}),this.cards=j(a),this.dict=a.reduce(function(t,a,e){var n="".concat(a.key,"-").concat(a.type);return t[n]=e,t},{});try{$("html, body").animate({scrollTop:0},"300")}catch(e){}},resetup:function(){this.setup(this.game),this.playGame()},playGame:function(){this.showVoca=!1,this.gameState=E.RUNNING},onCardClick:function(t){var a=this;if(this.validateFlipable(t)&&!(this.cardsInTurn>=2)){var e="".concat(t.key,"-").concat(t.type),n=this.dict[e],s=this.cards[n];s.show=!0,this.cardsInTurn++,null===this.comparingCard?this.comparingCard=s:setTimeout(function(){var t=a.compareCards(a.comparingCard,s);t?(s.matched=!0,a.comparingCard.matched=!0,a.matchedCount++,a.gamingMessage='<span class="text-red">'.concat(s.name,"</span> matched!"),a.endTurn(!0),a.checkEndGame()):(a.comparingCard.show=!1,s.show=!1,a.endTurn())}.bind(this),500)}},compareCards:function(t,a){return t.key===a.key},validateFlipable:function(t){return!0!==t.matched&&(null===this.comparingCard||this.comparingCard!==t)},endTurn:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=function(){t.comparingCard=null,t.cardsInTurn=0};!0===a?e():setTimeout(function(){return e()}.bind(this),500)},checkEndGame:function(){this.matchedCount==this.cards.length/2&&(this.gameState=E.GAMEOVER,this.gameplayTime=O()-this.timestamp)},toggleVoca:function(){this.showVoca=!this.showVoca}}},H=R,U=(e("68e4"),Object(m["a"])(H,h,v,!1,null,null,null)),P=U.exports,S={name:"Category",components:{Game:P},props:{gamedata:Array,onNavTo:Function},computed:{selectedGame:function(){return this.gamedata[this.selectedGameIdx]}},data:function(){return{selectedGameIdx:null}},methods:{playGame:function(t){this.selectedGameIdx=t,this.onNavTo("game")},exitGame:function(){this.selectedGameIdx=null},nextGame:function(){var t=this.selectedGameIdx+1;t>=this.gamedata.length&&(t=0),this.selectedGameIdx=t,this.$refs.gameComponent.setup(this.selectedGame)}}},M=S,A=(e("f38a"),Object(m["a"])(M,p,g,!1,null,null,null)),D=A.exports,V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"section"},[e("div",{staticClass:"label"},[t._v("New")]),e("div",{staticClass:"carousel"},t._l(t.newGames,function(a){return e("a",{staticClass:"slide",attrs:{href:t.pageURL+"?g="+a.id}},[e("div",{staticClass:"slide-card"},[e("img",{staticClass:"card-img-top",attrs:{src:a.thumbnail,alt:a.name}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v(t._s(a.name))])])])])}),0)]),e("div",{staticClass:"section"},[e("div",{staticClass:"label"},[t._v("Categories")]),e("div",{staticClass:"categories"},t._l(t.categories,function(a){return e("a",{staticClass:"category-card",attrs:{href:t.pageURL+"?c="+a.id}},[e("div",[e("CategoryImg",{attrs:{imgUrl:t.categoriesImg,pos:a.pos}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v(t._s(a.name))])])],1)])}),0)])])},L=[],F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-container-category",class:t.imgPos,style:{"background-image":"url('"+t.imgUrl+"')"}})},B=[],J={name:"CategoryImg",props:{imgUrl:String,pos:Number},computed:{imgPos:function(){return"cg-pos-".concat(this.pos)}}},W=J,Y=(e("efaa"),Object(m["a"])(W,F,B,!1,null,null,null)),q=Y.exports,z={name:"Home",components:{CategoryImg:q},props:{newGames:Array,categories:Array,pageURL:String},data:function(){return{categoriesImg:"/assets/apps/flipcard-game/categories/items.png"}}},K=z,Q=(e("8b71"),Object(m["a"])(K,V,L,!1,null,null,null)),X=Q.exports,Z=window.location.hostname;function tt(t,a){a||(a=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=e.exec(a);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function at(t){return fetch(t).then(function(t){return t.json()})}var et={name:"app",components:{Navigation:d,Category:D,Home:X,Game:P},data:function(){var t=this.parseURI();return this.preloadPage(t),{v:"funfunvietnam.com"==Z,pageURL:window.location.href.split("?")[0],onloaded:!1,currPage:t,navHistory:[],homeData:{},gamedata:[],choseGame:null}},methods:{parseURI:function(){var t=tt("c");if(t)return{type:"category",id:parseInt(t)};var a=tt("g");return a?{type:"game",id:parseInt(a)}:{type:"home"}},preloadPage:function(t){switch(this.onloaded=!1,t.type){case"home":this.loadHomeData();break;case"category":this.loadCategoryData(t.id);break;case"game":this.loadGameData(t.id);break}},onNavToHome:function(){window.location.href=this.pageURL},onNavBack:function(){this.$refs.categoryComponent.exitGame(),this.navHistory.pop()},onNavTo:function(t){this.navHistory.push(t)},loadHomeData:function(){var t=this;at("/assets/apps/flipcard-game/data/h.json").then(function(a){t.homeData=a,t.homeData.newGames.map(function(a,e){t.homeData.newGames[e]=t.appendImgThumbnail(a)}),t.onloaded=!0})},loadGameData:function(t){var a=this;at("/assets/apps/flipcard-game/data/g/g".concat(t,".json")).then(function(e){a.gamedata[t]=a.appendGameMeta(e),a.choseGame=a.gamedata[t],a.onloaded=!0})},loadCategoryData:function(t){var a=this;at("/assets/apps/flipcard-game/data/c/c".concat(t,".json")).then(function(t){a.gamedata=t,a.gamedata.map(function(t,e){a.gamedata[e]=a.appendGameMeta(t)}),a.onloaded=!0})},appendGameMeta:function(t){return t=this.appendImgThumbnail(t),t=this.appendImgItems(t),t},appendImgThumbnail:function(t){var a=t.folder;return t["thumbnail"]="/assets/apps/flipcard-game/".concat(a,"/thumbnail.png"),t},appendImgItems:function(t){var a=t.folder;return t["items"]="/assets/apps/flipcard-game/".concat(a,"/items.png"),t}}},nt=et,st=Object(m["a"])(nt,s,i,!1,null,null,null),it=st.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(it)}}).$mount("#app")},"68e4":function(t,a,e){"use strict";var n=e("4366"),s=e.n(n);s.a},"8b71":function(t,a,e){"use strict";var n=e("e3a2"),s=e.n(n);s.a},9028:function(t,a,e){"use strict";var n=e("2044"),s=e.n(n);s.a},e3a2:function(t,a,e){},eb19:function(t,a,e){},efaa:function(t,a,e){"use strict";var n=e("eb19"),s=e.n(n);s.a},f38a:function(t,a,e){"use strict";var n=e("0e8d"),s=e.n(n);s.a}});