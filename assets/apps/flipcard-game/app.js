(function(t){function n(n){for(var e,s,c=n[0],o=n[1],u=n[2],d=0,m=[];d<c.length;d++)s=c[d],r[s]&&m.push(r[s][0]),r[s]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);l&&l(n);while(m.length)m.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,n=0;n<i.length;n++){for(var a=i[n],e=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(e=!1)}e&&(i.splice(n--,1),t=s(s.s=a[0]))}return t}var e={},r={app:0},i=[];function s(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,n,a){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)s.d(a,e,function(n){return t[n]}.bind(null,e));return a},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},"0ab0":function(t,n,a){"use strict";var e=a("2b99"),r=a.n(e);r.a},"2b99":function(t,n,a){},"56d7":function(t,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("f751"),a("097d");var e=a("2b0e"),r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[a("Board")],1)},i=[],s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.v,expression:"v"}]},[t.isGameIdle?a("div",{staticClass:"menu-screen"},[a("div",{staticClass:"game-header"},[t._v("\n      Flip Card Game\n      "),0==t.games.length?a("div",{staticClass:"loader-icon"},[t._v("Loading...")]):t._e()]),a("div",{staticClass:"game-card-container"},t._l(t.games,function(n){return a("div",{staticClass:"game-card",on:{click:function(a){return t.setup(n)}}},[a("img",{attrs:{src:n.thumbnail}}),a("div",{staticClass:"title"},[t._v(t._s(n.name))])])}),0)]):t._e(),t.isGameRunning||t.isGameEnd?a("div",{staticClass:"cards-wrapper"},t._l(t.cards,function(n){return a("Card",{attrs:{card:n,onclick:t.onCardClick}})}),1):t._e(),t.isGameRunning||t.isGameEnd?a("div",{staticClass:"game-message"},[t.isGameRunning?a("div",{staticClass:"game-message-running",domProps:{innerHTML:t._s(t.gamingMessage)}},[t._v(t._s(t.gamingMessage))]):t._e(),t.isGameEnd?a("div",{staticClass:"mb-1"},[a("div",{staticClass:"game-message-gameover text-red"},[t._v("ðŸŽ‰ You Win! Congratulation!!! ðŸŽ‰")]),a("button",{staticClass:"btn btn-outline-success",on:{click:t.resetup}},[t._v("Play Again")])]):t._e(),a("button",{staticClass:"btn btn-outline-secondary mr-2",on:{click:t.idlegame}},[t._v("Menu")]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.toggleVoca}},[t.showVoca?a("span",[t._v("Hide Vocabulary")]):a("span",[t._v("Show Vocabulary")])]),t.showVoca?a("div",[a("table",{staticClass:"table-striped table-sm voca-table"},[t._m(0),a("tbody",t._l(this.vocas,function(n){return a("tr",[a("td",[t._v(t._s(n.vn))]),a("td",[t._v(t._s(n.en))]),a("td",[a("img",{attrs:{src:n.img}})])])}),0)])]):t._e()]):t._e()])},c=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("thead",[a("tr",[a("th",[t._v("VN")]),a("th",[t._v("EN")]),a("th")])])}],o=(a("7f7f"),function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"flipcard",class:{"flipcard-fliping":t.card.show},on:{click:t.click}},[a("div",{staticClass:"flipcard-front"}),a("div",{staticClass:"flipcard-back"},["img"==t.card.type?a("img",{attrs:{src:t.card.value}}):a("p",[t._v(t._s(t.card.value))])])])}),u=[],l={name:"flipcard",props:{card:Object,onclick:Function},computed:{},data:function(){return{showValue:!1}},methods:{click:function(){this.onclick(this.card)}}},d=l,m=(a("0ab0"),a("2877")),h=Object(m["a"])(d,o,u,!1,null,null,null),p=h.exports,f=window.location.hostname,g={IDLE:0,RUNNING:1,GAMEOVER:2};function v(t){return fetch(t).then(function(t){return t.json()})}function b(t){for(var n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),e=[t[a],t[n]];t[n]=e[0],t[a]=e[1]}return t}var _={name:"board",components:{Card:p},computed:{games:function(){return this.gamedata},isGameIdle:function(){return this.gameState==g.IDLE},isGameRunning:function(){return this.gameState==g.RUNNING},isGameEnd:function(){return this.gameState==g.GAMEOVER},vocas:function(){var t=[];return this.currentGame.data.map(function(n){t.push({vn:n[0],en:n[1],img:n[2]})}),t}},data:function(){var t=this;return v("/assets/apps/flipcard-game/d.json").then(function(n){return t.gamedata=n}),{v:"funfunvietnam.com"==f,gamedata:[],gameState:g.IDLE,currentGame:null,gamingMessage:"",cards:[],dict:{},comparingCard:null,cardsInTurn:0,matchedCount:0,showVoca:!1}},methods:{init:function(){this.gameState=g.RUNNING,this.currentGame=null,this.gamingMessage="Flip card to match pair.",this.cards=[],this.dict={},this.comparingCard=null,this.cardsInTurn=0,this.matchedCount=0,this.showVoca=!1},setup:function(t){this.init(),this.currentGame=t;var n=[];t.data.map(function(t,a){n.push({type:"text",value:t[0],name:t[0],key:a,show:!1,matched:!1}),n.push({type:"img",value:t[2],name:t[0],key:a,show:!1,matched:!1})}),this.cards=b(n),this.dict=n.reduce(function(t,n,a){var e="".concat(n.key,"-").concat(n.type);return t[e]=a,t},{});try{$("html, body").animate({scrollTop:0},"300")}catch(a){}},resetup:function(){this.setup(this.currentGame)},idlegame:function(){this.gameState=g.IDLE},onCardClick:function(t){var n=this;if(this.validateFlipable(t)&&!(this.cardsInTurn>=2)){var a="".concat(t.key,"-").concat(t.type),e=this.dict[a],r=this.cards[e];r.show=!0,this.cardsInTurn++,null===this.comparingCard?this.comparingCard=r:setTimeout(function(){var t=n.compareCards(n.comparingCard,r);t?(r.matched=!0,n.comparingCard.matched=!0,n.matchedCount++,n.gamingMessage='<span class="text-red">'.concat(r.name,"</span> matched!"),n.endTurn(!0),n.checkEndGame()):(n.comparingCard.show=!1,r.show=!1,n.endTurn())}.bind(this),500)}},compareCards:function(t,n){return t.key===n.key},validateFlipable:function(t){return!0!==t.matched&&(null===this.comparingCard||this.comparingCard!==t)},endTurn:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=function(){t.comparingCard=null,t.cardsInTurn=0};!0===n?a():setTimeout(function(){return a()}.bind(this),500)},checkEndGame:function(){this.matchedCount==this.cards.length/2&&(this.gameState=g.GAMEOVER)},toggleVoca:function(){this.showVoca=!this.showVoca}}},C=_,y=(a("b2e8"),Object(m["a"])(C,s,c,!1,null,null,null)),w=y.exports,k={name:"app",components:{Board:w}},G=k,E=Object(m["a"])(G,r,i,!1,null,null,null),M=E.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(M)}}).$mount("#app")},b2e8:function(t,n,a){"use strict";var e=a("dcc5"),r=a.n(e);r.a},dcc5:function(t,n,a){}});