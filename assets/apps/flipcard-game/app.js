(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],d=0,m=[];d<c.length;d++)r=c[d],s[r]&&m.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ab0":function(t,e,n){"use strict";var a=n("2b99"),s=n.n(a);s.a},"2b99":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Board")],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.v,expression:"v"}]},[t.isGameIdle?n("div",{staticClass:"menu-screen"},[n("div",{staticClass:"game-header"},[t._v("\n      Flip Card Game\n      "),0==t.games.length?n("div",{staticClass:"loader-icon"},[t._v("Loading...")]):t._e()]),n("div",{staticClass:"game-card-container"},[t.choseGame?n("div",{staticClass:"game-card",on:{click:function(e){return t.setup(t.choseGame)}}},[n("img",{attrs:{src:t.choseGame.thumbnail}}),n("div",{staticClass:"title"},[t._v(t._s(t.choseGame.name))])]):t._l(t.games,function(e){return n("div",{staticClass:"game-card",on:{click:function(n){return t.setup(e)}}},[n("img",{attrs:{src:e.thumbnail}}),n("div",{staticClass:"title"},[t._v(t._s(e.name))])])})],2),n("div",{staticClass:"game-footer"},[t.choseGame?n("button",{staticClass:"btn btn-outline-success",on:{click:t.removeChoseGame}},[t._v("Show All Game")]):t._e()])]):t._e(),t.isGameRunning||t.isGameEnd?n("div",{staticClass:"cards-wrapper"},t._l(t.cards,function(e){return n("Card",{attrs:{card:e,onclick:t.onCardClick}})}),1):t._e(),t.isGameRunning||t.isGameEnd?n("div",{staticClass:"game-message"},[t.isGameRunning?n("div",{staticClass:"game-message-running",domProps:{innerHTML:t._s(t.gamingMessage)}},[t._v(t._s(t.gamingMessage))]):t._e(),t.isGameEnd?n("div",{staticClass:"mb-1"},[n("div",{staticClass:"game-message-gameover text-red"},[t._v("ðŸŽ‰ You Win! Congratulation!!! ðŸŽ‰")]),n("button",{staticClass:"btn btn-outline-success",on:{click:t.resetup}},[t._v("Play Again")])]):t._e(),n("button",{staticClass:"btn btn-outline-secondary mr-2",on:{click:t.idlegame}},[t._v("Menu")]),n("button",{staticClass:"btn btn-outline-secondary",on:{click:t.toggleVoca}},[t.showVoca?n("span",[t._v("Hide Vocabulary")]):n("span",[t._v("Show Vocabulary")])]),t.showVoca?n("div",[n("table",{staticClass:"table-striped table-sm voca-table"},[t._m(0),n("tbody",t._l(this.vocas,function(e){return n("tr",[n("td",[t._v(t._s(e.vn))]),n("td",[t._v(t._s(e.en))]),n("td",[t._v(t._s(e.cn))]),n("td",[n("img",{attrs:{src:e.img}})])])}),0)])]):t._e()]):t._e()])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("VN")]),n("th",[t._v("EN")]),n("th",[t._v("CN")]),n("th")])])}],o=(n("28a5"),n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flipcard",class:{"flipcard-fliping":t.card.show},on:{click:t.click}},[n("div",{staticClass:"flipcard-front"}),n("div",{staticClass:"flipcard-back"},["img"==t.card.type?n("img",{attrs:{src:t.card.value}}):n("p",[t._v(t._s(t.card.value))])])])}),u=[],l={name:"flipcard",props:{card:Object,onclick:Function},computed:{},data:function(){return{showValue:!1}},methods:{click:function(){this.onclick(this.card)}}},d=l,m=(n("0ab0"),n("2877")),h=Object(m["a"])(d,o,u,!1,null,null,null),p=h.exports,f=window.location.hostname,v={IDLE:0,RUNNING:1,GAMEOVER:2};function g(t){return fetch(t).then(function(t){return t.json()})}function b(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),a=[t[n],t[e]];t[e]=a[0],t[n]=a[1]}return t}var _={name:"board",components:{Card:p},computed:{games:function(){return this.gamedata},isGameIdle:function(){return this.gameState==v.IDLE},isGameRunning:function(){return this.gameState==v.RUNNING},isGameEnd:function(){return this.gameState==v.GAMEOVER},vocas:function(){var t=[];return this.currentGame.data.map(function(e){t.push({vn:e[0],en:e[1],cn:e[2],img:e[3]})}),t}},data:function(){var t=this;return g("/assets/apps/flipcard-game/d.json").then(function(e){t.gamedata=e;var n=parseInt(t.loadLevel());"number"==typeof n&&n>=0&&n<t.gamedata.length&&(t.choseGame=t.gamedata[n])}),{v:"funfunvietnam.com"==f,gamedata:[],gameState:v.IDLE,currentGame:null,gamingMessage:"",cards:[],dict:{},comparingCard:null,cardsInTurn:0,matchedCount:0,showVoca:!1,choseGame:null}},methods:{init:function(){this.gameState=v.RUNNING,this.currentGame=null,this.gamingMessage="Flip card to match pair.",this.cards=[],this.dict={},this.comparingCard=null,this.cardsInTurn=0,this.matchedCount=0,this.showVoca=!1,this.choseGame=null},setup:function(t){this.init(),this.currentGame=t;var e=[];t.data.map(function(t,n){e.push({type:"text",value:t[0],name:t[0],key:n,show:!1,matched:!1}),e.push({type:"img",value:t[3],name:t[0],key:n,show:!1,matched:!1})}),this.cards=b(e),this.dict=e.reduce(function(t,e,n){var a="".concat(e.key,"-").concat(e.type);return t[a]=n,t},{});try{$("html, body").animate({scrollTop:0},"300")}catch(n){}},resetup:function(){this.setup(this.currentGame)},idlegame:function(){this.gameState=v.IDLE},onCardClick:function(t){var e=this;if(this.validateFlipable(t)&&!(this.cardsInTurn>=2)){var n="".concat(t.key,"-").concat(t.type),a=this.dict[n],s=this.cards[a];s.show=!0,this.cardsInTurn++,null===this.comparingCard?this.comparingCard=s:setTimeout(function(){var t=e.compareCards(e.comparingCard,s);t?(s.matched=!0,e.comparingCard.matched=!0,e.matchedCount++,e.gamingMessage='<span class="text-red">'.concat(s.name,"</span> matched!"),e.endTurn(!0),e.checkEndGame()):(e.comparingCard.show=!1,s.show=!1,e.endTurn())}.bind(this),500)}},compareCards:function(t,e){return t.key===e.key},validateFlipable:function(t){return!0!==t.matched&&(null===this.comparingCard||this.comparingCard!==t)},endTurn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){t.comparingCard=null,t.cardsInTurn=0};!0===e?n():setTimeout(function(){return n()}.bind(this),500)},checkEndGame:function(){this.matchedCount==this.cards.length/2&&(this.gameState=v.GAMEOVER)},toggleVoca:function(){this.showVoca=!this.showVoca},loadLevel:function(){var t=window.location.href,e=t.substring(t.split("?g=")[0].length+3);return e.length>0?e:null},removeChoseGame:function(){this.choseGame=null}}},C=_,G=(n("b2e8"),Object(m["a"])(C,r,c,!1,null,null,null)),y=G.exports,w={name:"app",components:{Board:y}},k=w,E=Object(m["a"])(k,s,i,!1,null,null,null),M=E.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(M)}}).$mount("#app")},b2e8:function(t,e,n){"use strict";var a=n("dcc5"),s=n.n(a);s.a},dcc5:function(t,e,n){}});